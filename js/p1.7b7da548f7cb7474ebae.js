(()=>{"use strict";var e={296:(e,t,n)=>{n.r(t)},303:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(296),(0,i(n(793)).default)()},898:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(939),r=n(323),a=o(n(716)),d=n(452);t.default=class{constructor(e,t,n="0",i="0"){this.page=i,this.grade=n,this.words=[],this.container=document.querySelector(".dictionary__row"),this.isComplicated=t}getData(){return i(this,void 0,void 0,(function*(){if(!0===this.isComplicated){const e="aggregatedWords?wordsPerPage=3600&filter=%7B%22userWord.difficulty%22%3A%22hard%22%7D";this.words=(yield(0,d.getAggregatedWords)(localStorage.getItem("token")||"",`${s.ELinks.users}/${localStorage.getItem("userId")}/${e}`))[0].paginatedResults}else this.words=yield(0,d.getWords)(this.grade,this.page)}))}render(){this.container.innerHTML="",this.words.map((e=>{const t=new a.default(e,r.store.isAuthorized,this.isComplicated);t.render(this.container),t.bindListener()}))}}},716:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(939),r=n(452),a=n(419),d=o(n(86)),l=n(8),c=n(323);t.default=class{constructor(e,t,n){this.element=document.createElement("div"),this.hardWordsBtn=document.querySelector(".dictionary-levels button:last-child"),this.wordStatisticsInGames=document.querySelector(".word-statistics-in-games"),this.wordStatisticsHeaderWord=document.querySelector(".word-statistics-header p"),this.audioCallRight=document.getElementById("audiocall-right"),this.audioCallWrong=document.getElementById("audiocall-wrong"),this.sprintRight=document.getElementById("sprint-right"),this.sprintWrong=document.getElementById("sprint-wrong"),this.audioArr=[],this.playSound=()=>i(this,void 0,void 0,(function*(){const e=[`https://bukman-rs-lang.herokuapp.com/${this.word.audio}`,`https://bukman-rs-lang.herokuapp.com/${this.word.audioMeaning}`,`https://bukman-rs-lang.herokuapp.com/${this.word.audioExample}`];0===this.audioArr.length||this.audioArr[0].src!==e[0]?this.audioArr=e.map((e=>new Audio(e))):this.audioArr.forEach((e=>{e.currentTime=0,e.pause()}));for(const e of this.audioArr){e.play();try{yield new Promise(((t,n)=>{e.addEventListener("ended",(()=>{n()})),e.addEventListener("error",(e=>{t(e)}))}))}catch(e){console.log(e)}}})),this.setCardDifficalty=e=>i(this,void 0,void 0,(function*(){const t=e.target.dataset.difficalty,n=this.element.classList.contains("active-hard"),i=this.element.classList.contains("active-easy"),o=(yield(0,r.getAggregatedWordById)(localStorage.getItem("userId")||"",this.word.id||this.word._id,localStorage.getItem("token")||""))[0].userWord;if(t===s.WordDifficulty.hard&&(this.element.classList.toggle("active-hard"),this.isComplicated?(yield(0,r.deleteUserWord)(localStorage.getItem("userId")||"",this.word.id||this.word._id,localStorage.getItem("token")||""),(0,a.renderDictionary)(this.isComplicated)):(i&&this.element.classList.remove("active-easy"),n?o?yield(0,r.updateUserWord)(localStorage.getItem("userId")||"",this.word.id||this.word._id,{difficulty:s.WordDifficulty.empty,optional:o.optional},localStorage.getItem("token")||""):yield(0,r.deleteUserWord)(localStorage.getItem("userId")||"",this.word.id||this.word._id,localStorage.getItem("token")||""):o?yield(0,r.updateUserWord)(localStorage.getItem("userId")||"",this.word.id||this.word._id,{difficulty:"hard",optional:o.optional},localStorage.getItem("token")||""):yield(0,r.createUserWord)(localStorage.getItem("userId")||"",this.word.id||this.word._id,{difficulty:"hard",optional:c.store.optional},localStorage.getItem("token")||""),yield(0,d.default)())),t===s.WordDifficulty.easy&&(this.element.classList.toggle("active-easy"),n&&this.element.classList.remove("active-hard"),i?o?yield(0,r.updateUserWord)(localStorage.getItem("userId")||"",this.word.id||this.word._id,{difficulty:s.WordDifficulty.empty,optional:o.optional},localStorage.getItem("token")||""):yield(0,r.deleteUserWord)(localStorage.getItem("userId")||"",this.word.id||this.word._id,localStorage.getItem("token")||""):o?yield(0,r.updateUserWord)(localStorage.getItem("userId")||"",this.word.id||this.word._id,{difficulty:"easy",optional:o.optional},localStorage.getItem("token")||""):yield(0,r.createUserWord)(localStorage.getItem("userId")||"",this.word.id||this.word._id,{difficulty:"easy",optional:c.store.optional},localStorage.getItem("token")||""),yield(0,d.default)()),t===s.WordDifficulty.statistics){const e=yield(0,l.getWordStatisticsInGame)(this.word.id||this.word._id);e&&(this.audioCallRight.innerHTML=e.optional.games.audiocall.right.toString(),this.audioCallWrong.innerHTML=e.optional.games.audiocall.wrong.toString(),this.sprintRight.innerHTML=e.optional.games.sprint.right.toString(),this.sprintWrong.innerHTML=e.optional.games.sprint.wrong.toString()),this.wordStatisticsHeaderWord.innerHTML=this.word.word,this.wordStatisticsInGames.classList.remove("hidden")}})),this.word=e,this.isAuthorized=t,this.isComplicated=n,this.audioArr=[]}bindListener(){this.element.querySelector(".word-transcription-sound").addEventListener("click",this.playSound),this.element.querySelectorAll(".word-contrals-item").forEach((e=>e.addEventListener("click",this.setCardDifficalty)))}render(e){const t=document.createElement("div");let n;t.classList.add("dictionary-card");this.hardWordsBtn.classList.contains("hidden")||(()=>{i(this,void 0,void 0,(function*(){var e;n=null===(e=(yield(0,r.getAggregatedWordById)(localStorage.getItem("userId")||"",this.word.id||this.word._id,localStorage.getItem("token")||""))[0].userWord)||void 0===e?void 0:e.difficulty,n&&n!==s.WordDifficulty.empty&&" "!==n&&t.classList.add(`active-${n}`)}))})(),t.innerHTML=`\n    <div class="dictionary-card_left">\n      <img src="https://bukman-rs-lang.herokuapp.com/${this.word.image}" alt="word image">\n    </div>\n    <div class="dictionary-card_right">\n      <div class="word-name">\n        <p><strong>${this.word.word}</strong></p>\n          <div class="word-contrals ${this.isAuthorized?"":"hidden"}">\n              <button class="word-contrals-item hard" data-difficalty="hard" title="Сложное слово">\n                <svg width="28" height="22" viewBox="0 0 28 22" fill="none" xmlns="http://www.w3.org/2000/svg" data-difficalty="hard">\n                <path d="M25.25 1.25C23.8625 0.8125 22.3375 0.625 20.875 0.625C18.4375 0.625 15.8125 1.125 14 2.5C12.1875 1.125 9.5625 0.625 7.125 0.625C4.6875 0.625 2.0625 1.125 0.25 2.5V20.8125C0.25 21.125 0.5625 21.4375 0.875 21.4375C1 21.4375 1.0625 21.375 1.1875 21.375C2.875 20.5625 5.3125 20 7.125 20C9.5625 20 12.1875 20.5 14 21.875C15.6875 20.8125 18.75 20 20.875 20C22.9375 20 25.0625 20.375 26.8125 21.3125C26.9375 21.375 27 21.375 27.125 21.375C27.4375 21.375 27.75 21.0625 27.75 20.75V2.5C27 1.9375 26.1875 1.5625 25.25 1.25ZM25.25 18.125C23.875 17.6875 22.375 17.5 20.875 17.5C18.75 17.5 15.6875 18.3125 14 19.375V5C15.6875 3.9375 18.75 3.125 20.875 3.125C22.375 3.125 23.875 3.3125 25.25 3.75V18.125Z" fill="white" data-difficalty="hard"/>\n                </svg>\n              </button>\n              <button class="word-contrals-item easy ${this.isComplicated?"hidden":""}" data-difficalty="easy" title="Изученное слово">\n                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" data-difficalty="easy"\n                 xmlns="http://www.w3.org/2000/svg">\n                  <path data-difficalty="easy"\n                  d="M20.7375 9.475L12.5 17.7125L8.0125 13.2375L6.25 15L12.5 21.25L22.5 11.25L20.7375 9.475ZM15\n                  2.5C8.1 2.5 2.5 8.1 2.5 15C2.5 21.9 8.1 27.5 15 27.5C21.9 27.5 27.5 21.9 27.5 15C27.5 8.1 21.9 2.5\n                    15 2.5ZM15 25C9.475 25 5 20.525 5 15C5 9.475 9.475 5 15 5C20.525 5 25 9.475 25 15C25 20.525 20.525\n                    25 15 25Z" fill="white"/>\n                </svg>\n              </button>\n              <button class="word-contrals-item" data-difficalty="statistics" title="Статистика в играх">\n              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" data-difficalty="statistics" xmlns="http://www.w3.org/2000/svg">\n              <path d="M9 24H15V0H9V24ZM0 24H6V12H0V24ZM18 7.5V24H24V7.5H18Z" fill="white" data-difficalty="statistics"/>\n              </svg>\n            </button>\n            </div>\n      </div>\n      <div class="word-translation">${this.word.wordTranslate}</div>\n      <div class="word-transcription"> ${this.word.transcription} <span class="word-transcription-sound">\n        <audio src="https://bukman-rs-lang.herokuapp.com/${this.word.audio}" ></audio>\n        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M3 8.99998V15H7L12 20V3.99998L7 8.99998H3ZM16.5 12C16.5 10.23 15.48 8.70998 14 7.96998V16.02C15.48\n           15.29 16.5 13.77 16.5 12ZM14 3.22998V5.28998C16.89 6.14998 19 8.82998 19 12C19 15.17 16.89 17.85 14\n            18.71V20.77C18.01 19.86 21 16.28 21 12C21 7.71998 18.01 4.13998 14 3.22998Z" fill="white"/>\n        </svg>\n      </span> </div>\n      <div class="word-mining">${this.word.textMeaning}</div>\n      <div class="word-mining-transcription">${this.word.textMeaningTranslate}</div>\n      <hr>\n      <div class="word-example">${this.word.textExample}</div>\n      <div class="word-example-transcription">${this.word.textExampleTranslate}</div>\n    </div>`,e.appendChild(t),this.element=t}}},793:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(979)),r=o(n(161)),a=o(n(255)),d=n(323),l=n(419),c=o(n(634)),u=n(724),g=n(8),h=n(939),m=n(129),p=n(452),f=o(n(210));t.default=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelectorAll(".words-level"),t=document.querySelector("#next-page"),n=document.querySelector("#prev-page"),i=document.querySelector("#current-page"),o=document.querySelector(".dictionary-controls");window.addEventListener("load",(()=>{localStorage.getItem("token")&&(0,p.getUserById)(localStorage.getItem("userId")||"",localStorage.getItem("token")||"")})),(0,s.default)(),(0,r.default)(),e.forEach((t=>t.addEventListener("click",(t=>{d.store.isComplicatedWordPage=!1,d.store.currentLevel=t.target.dataset.level||"0",d.store.currentPage="0",i.textContent=String(+d.store.currentPage+1),e.forEach((e=>e.classList.remove("active"))),t.target.classList.add("active"),(0,l.renderDictionary)(),o.classList.remove("hidden")})))),t.addEventListener("click",(()=>{+d.store.currentPage<29?d.store.currentPage=String(+d.store.currentPage+1):d.store.currentPage="29",i.textContent=String(+d.store.currentPage+1),(0,l.renderDictionary)()})),n.addEventListener("click",(()=>{+d.store.currentPage>0?d.store.currentPage=String(+d.store.currentPage-1):d.store.currentPage="0",i.innerHTML=String(+d.store.currentPage+1),(0,l.renderDictionary)()})),(0,a.default)(),(0,c.default)();const v=document.querySelectorAll(".audiocall-level"),y=document.querySelector(".audiocall-btn"),w=document.querySelector(".game-audio");v.forEach((e=>e.addEventListener("click",u.setCurrentLevel))),null==y||y.addEventListener("click",(()=>{(0,u.startAudioCallGame)(h.CallAudiogameFrom.menu)})),null==w||w.addEventListener("click",(()=>{(0,u.startAudioCallGame)(h.CallAudiogameFrom.dictionary)})),(0,g.navigateWordStatistics)(),(0,m.navigateStatistics)(),(0,f.default)()}))}},964:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(592);t.default=class{constructor(e,t){this.questionWordEl=document.querySelector("#question-word"),this.questionImg=document.querySelector(".audiocall-question__img"),this.element=document.createElement("div"),this.getAnswersArr=()=>{if(this.words.length>=5)for(this.answersArr=[this.correctAnswer];this.answersArr.length<5;){const e=this.words[Math.floor(Math.random()*this.words.length)].wordTranslate;this.answersArr.includes(e)||this.answersArr.push(e)}return(0,o.shuffle)(this.answersArr)},this.bindListener=()=>i(this,void 0,void 0,(function*(){const e=this.element.querySelector(".audiocall-question__sound-btn"),t=null==e?void 0:e.querySelector("audio");null==t||t.load(),(0,o.playAudio)(t),null==e||e.addEventListener("click",(()=>(0,o.playAudio)(t)))})),this.generateAnwersArr=()=>{let e="";return this.answersArr.forEach(((t,n)=>{e+=`<div class="btn answer-item" id="answer-${n}">${t}</div>`})),e},this.word=e,this.correctAnswer=e.wordTranslate,this.sound=e.audio,this.wordTranslate=e.wordTranslate,this.isCorrect=!1,this.words=t,this.answersArr=this.getAnswersArr(),this.audio=new Audio,this.quizElement=document.querySelector(".audiocall-question")}answer(e){return this.isCorrect=e===this.correctAnswer||!1}render(e){const t=document.createElement("div");t.classList.add("audiocall-question__info"),t.classList.add("hidden");const n=`\n      <img src="https://bukman-rs-lang.herokuapp.com/${this.word.image}" alt="answer image" class="audiocall-question__img info-item">\n      <div class="info-item center">\n        <div class="audiocall-question__sound-btn">\n        <audio src="https://bukman-rs-lang.herokuapp.com/${this.word.audio}" ></audio>\n        </div>\n        <div class="audiocall-question__word" id="question-word">${this.word.word}</div>\n      </div>\n      <div class="info-item"></div>\n    `;t.innerHTML=n;const i=document.createElement("div");i.classList.add("audiocall-question__answers");const o=`\n      ${this.generateAnwersArr()}\n    `;i.innerHTML=o,e.appendChild(t),e.appendChild(i),this.element=t}}},418:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(592),r=o(n(964)),a=o(n(368)),d=n(8),l=n(129),c=n(323),u=n(928);t.default=class{constructor(e){this.quizElement=document.querySelector(".audiocall-question"),this.quizChangableEl=document.querySelector(".audiocall-question__changable"),this.nextBtn=document.querySelector(".audiocall-question__next-btn"),this.exitGame=document.querySelector(".audiocall-question__settings_exit"),this.exitOnNavAudioLinks=document.querySelector(".game-menu_audiocall"),this.volumeBtn=document.querySelector(".audiocall-question__settings_volume"),this.toogleVolume=()=>{this.volume=!this.volume,this.volumeBtn.classList.toggle("mute")},this.getAnswerWord=e=>{this.currentAnswer=e.target.textContent,this.currentAnswer&&(this.showResult(),this.answeredAmount++)},this.styleAnswer=()=>{const e=document.querySelectorAll(".answer-item"),t=document.querySelector(".audiocall-question__info");document.querySelectorAll(".dot")[this.answeredAmount].classList.add("active"),e.forEach((e=>{const t=this.questions[this.answeredAmount].correctAnswer===e.textContent;e.textContent===this.currentAnswer&&t?e.classList.add("correct"):e.textContent!==this.currentAnswer||t?e.textContent===this.questions[this.answeredAmount].correctAnswer?e.classList.add("correct"):(e.classList.add("disable"),e.setAttribute("disabled","true")):e.classList.add("wrong")})),null==t||t.classList.remove("hidden")},this.setQuestions=e=>e.map((t=>new r.default(t,e))),this.renderQuestion=()=>{this.quizChangableEl.innerHTML="",this.questions[this.answeredAmount].render(this.quizChangableEl),this.questions[this.answeredAmount].bindListener(),this.bindListener()},this.nextQuestion=()=>{const e=document.querySelector(".audiocall-question__info");if(null==e||e.classList.add("hidden"),this.answeredAmount<this.totalAmount)this.currentAnswer="",this.renderQuestion();else if(this.endQuiz(),this.volume){const e=new Audio;e.src="./assets/sounds/roundEnd.mp3",e.play()}},this.showResult=()=>i(this,void 0,void 0,(function*(){this.currentAnswer&&(this.questions[this.answeredAmount].answer(this.currentAnswer)?(this.totalCorrectWords.push(this.questions[this.answeredAmount]),this.styleAnswer(),c.store.isAuthorized&&((0,d.updateGameStats)("audiocall",!0,this.questions[this.answeredAmount].word.id||this.questions[this.answeredAmount].word._id),(0,l.updateUserStatisticsFn)("audiocall",!0),this.currentSeries++),this.volume&&(0,s.playSound)(!0)):(this.totalWrongWords.push(this.questions[this.answeredAmount]),this.styleAnswer(),c.store.isAuthorized&&((0,d.updateGameStats)("audiocall",!1,this.questions[this.answeredAmount].word.id||this.questions[this.answeredAmount].word._id),(0,l.updateUserStatisticsFn)("audiocall",!1),(0,u.isEasyWordInGameFn)(this.questions[this.answeredAmount].word.id||this.questions[this.answeredAmount].word._id),this.currentSeries>this.bestSeries&&(this.bestSeries=this.currentSeries),this.currentSeries=0),this.volume&&(0,s.playSound)(!1)))})),this.totalAmount=e.length,this.answeredAmount=0,this.questions=this.setQuestions(e),this.totalWrongWords=[],this.totalCorrectWords=[],this.currentAnswer="",this.volume=!0,this.bestSeries=0,this.currentSeries=0,this.audiocallAnswerBtns=document.querySelectorAll(".answer-item"),this.nextBtn.addEventListener("click",this.nextQuestion),this.renderQuestion(),(0,s.pagination)(this.totalAmount),this.exitOnNavAudioLinks.addEventListener("click",this.closeQuiz.bind(this)),this.volumeBtn.addEventListener("click",this.toogleVolume)}closeQuiz(){const e=document.querySelector(".audiocall-question__pagination");this.quizElement.classList.add("hidden"),e.innerHTML="",this.volumeBtn.classList.remove("mute"),this.removeListener()}bindListener(){this.audiocallAnswerBtns=document.querySelectorAll(".answer-item"),this.audiocallAnswerBtns.forEach((e=>e.addEventListener("click",this.getAnswerWord)))}removeListener(){this.nextBtn.removeEventListener("click",this.nextQuestion),this.volumeBtn.removeEventListener("click",this.toogleVolume)}endQuiz(){(0,l.updateBestSeriesFn)("audiocall",this.bestSeries);const e=document.querySelector(".audiocall-result"),t=new a.default(this.totalWrongWords,this.totalCorrectWords);t.mount(e),t.bindListener(),this.quizElement.classList.add("hidden"),null==e||e.classList.remove("hidden"),this.volumeBtn.classList.remove("mute"),this.removeListener()}}},368:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(939),o=n(592);t.default=class{constructor(e,t){this.wrongAnswers=e,this.correctAnswers=t,this.element=document.createElement("div")}generateWordArr(e){let t="";return e.forEach((e=>{t+=`\n      <li class="result-item">\n          <div class="audiocall-result__sound-btn">\n            <audio src="https://bukman-rs-lang.herokuapp.com/${e.word.audio}" ></audio>\n          </div>\n          <div class="audiocall-result__word">${e.word.word}</div>\n          <div class="audiocall-result__word_translation"> <span> — </span>${e.wordTranslate}</div>\n        </li>\n      `})),t}generateCongratulation(e){const t=this.wrongAnswers.length+this.correctAnswers.length,n=Math.round(e/t*100),o=n===i.ResultGrade.excellent,s=n<i.ResultGrade.excellent&&n>i.ResultGrade.good,r=n<i.ResultGrade.good&&n>i.ResultGrade.bad;return o?"Превосходный результат, поздравляем!":s?"Хороший результат, поздравляем!":r?"Неплохо, однако возможно лучше :)!":"Не отчаивайтесь, все обязательно получится!"}bindListener(){const e=this.element.querySelectorAll(".audiocall-result__sound-btn"),t=this.element.querySelector(".audiocall-result_play-again"),n=this.element.querySelector(".audiocall-result_back-dictionary");e.forEach((e=>e.addEventListener("click",(e=>{const t=(null==e?void 0:e.target).querySelector("audio");null==t||t.play()})))),null==t||t.addEventListener("click",o.navigateToAudiocallStart),null==n||n.addEventListener("click",o.navigateBackToDictionary)}generate(){return`\n\n      <h2 class="audiocall-result__title">${this.generateCongratulation(this.correctAnswers.length)}</h2>\n      <div class="audiocall-result__wrong">\n        <div class="audiocall-result__subheader">\n          <h3 class="audiocall-result__subtitle">Не знаю</h3>\n          <div class="answer-amount wrong-amount">${this.wrongAnswers.length}</div>\n        </div>\n        ${this.generateWordArr(this.wrongAnswers)}\n      </div>\n      <div class="audiocall-result__correct">\n        <div class="audiocall-result__subheader">\n          <h3 class="audiocall-result__subtitle">Знаю</h3>\n          <div class="answer-amount correct-amount">${this.correctAnswers.length}</div>\n        </div>\n        ${this.generateWordArr(this.correctAnswers)}\n      </div>\n      <div class="audiocall-result__navigation">\n          <button class="btn audiocall-result_play-again btn-result-nav">Сыграть еще раз</button>\n          <button class="btn audiocall-result_back-dictionary btn-result-nav">Вернуться в учебник</button>\n      </div>\n    `}mount(e){e.innerHTML=this.generate(),this.element=e}}},724:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.startAudioCallGame=t.setCurrentLevel=void 0;const s=n(323),r=n(452),a=n(939),d=o(n(418)),l=n(592),c=document.querySelectorAll(".audiocall-level"),u=document.querySelector(".audiocall-welcome"),g=document.querySelector(".audiocall-question"),h=document.querySelector(".close-result"),m=document.querySelector(".audiocall-result"),p=document.querySelector(".audiocall-question__settings_exit"),f=document.querySelector(".audiocall-question__changable"),v=document.querySelector(".header__logo_link"),y=document.querySelectorAll(".header__nav_list-item");t.setCurrentLevel=function(e){s.store.audiocallCurrentLevel=e.target.dataset.level||"0",c.forEach((e=>e.classList.remove("active"))),e.target.classList.add("active")},t.startAudioCallGame=function(e){let t=null;function n(){null==t||t.removeListener(),null==t||t.closeQuiz(),t=null}null==u||u.classList.add("hidden"),null==g||g.classList.remove("hidden"),e===a.CallAudiogameFrom.menu?function(){i(this,void 0,void 0,(function*(){const e=yield(0,r.getWords)(s.store.audiocallCurrentLevel,String(Math.floor(30*Math.random())));t=new d.default(e),t.bindListener()}))}():e===a.CallAudiogameFrom.dictionary&&function(){i(this,void 0,void 0,(function*(){let e;if(s.store.isAuthorized)if(s.store.isComplicatedWordPage){const t="aggregatedWords?wordsPerPage=3600&filter=%7B%22userWord.difficulty%22%3A%22hard%22%7D",n=`${a.ELinks.users}/${localStorage.getItem("userId")}/${t}`;e=(yield(0,r.getAggregatedWords)(localStorage.getItem("token")||"",n))[0].paginatedResults}else{const t=`wordsPerPage=20&filter=%7B%22%24and%22%3A%5B%7B%22%24or%22%3A%5B%7B%22userWord.difficulty%22%3A%22empty%22%7D%2C%20%7B%22userWord.difficulty%22%3A%22hard%22%7D%2C%20%7B%22userWord%22%3Anull\n        %7D%5D%7D%2C%20%7B%22page%22%3A${s.store.currentPage}%7D%5D%7D`,n=`${a.ELinks.users}/${localStorage.getItem("userId")}/aggregatedWords?group=${s.store.currentLevel}&${t}`;e=(yield(0,r.getAggregatedWords)(localStorage.getItem("token")||"",n))[0].paginatedResults}else e=yield(0,r.getWords)(s.store.currentLevel,s.store.currentPage);e.length>=5?(t=new d.default(e),t.bindListener()):((0,l.navigateBackToDictionary)(),alert("Недостаточно слов для игры"))}))}(),null==h||h.addEventListener("click",(()=>{null==m||m.classList.add("hidden"),t=null})),p.addEventListener("click",(()=>{n(),e===a.CallAudiogameFrom.menu?(0,l.navigateToAudiocallStart)():e===a.CallAudiogameFrom.dictionary&&(0,l.navigateBackToDictionary)(),f.innerHTML=""})),v.addEventListener("click",n),y.forEach((e=>e.addEventListener("click",n)))}},592:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.navigateBackToDictionary=t.navigateToAudiocallStart=t.playAudio=t.pagination=t.playSound=t.shuffle=void 0;const i=n(419),o=n(323);t.shuffle=function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},t.playSound=function(e){const t=new Audio;t.src=e?"./assets/sounds/correct.mp3":"./assets/sounds/wrong1.wav",t.play()},t.pagination=function(e){const t=document.querySelector(".audiocall-question__pagination"),n=null==t?void 0:t.getBoundingClientRect().width;t.innerHTML="";for(let i=0;i<e;i+=1){const i=document.createElement("div");if(i.classList.add("dot"),n){const t=Math.round(n/e);i.style.width=`${t}px`}null==t||t.appendChild(i)}},t.playAudio=function(e){const t=null==e?void 0:e.play();null!==t&&(null==t||t.catch((()=>{null==e||e.play()})))},t.navigateToAudiocallStart=function(){const e=document.querySelector(".audiocall-result"),t=document.querySelector(".audiocall-welcome");e.classList.add("hidden"),null==t||t.classList.remove("hidden")},t.navigateBackToDictionary=function(){const e=document.querySelector(".dictionary"),t=document.querySelector(".footer"),n=document.querySelector(".dictionary-footer"),s=document.querySelector(".audiocall"),r=document.querySelector(".audiocall-result");null==e||e.classList.remove("hidden"),null==t||t.classList.remove("hidden"),null==n||n.classList.remove("footer-hidden"),null==s||s.classList.add("hidden"),r.classList.add("hidden"),o.store.isComplicatedWordPage?(0,i.renderDictionary)(!0):(0,i.renderDictionary)()}},161:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(452),s=n(323),r=n(419),a=n(129);t.default=function(){const e=document.getElementById("log-in"),t=document.getElementById("signIn-section"),n=document.querySelector("#registration-section"),d=document.querySelector("#signIn-section span"),l=document.querySelector("#registration-section span"),c=document.getElementById("registration-link"),u=document.querySelector(".form-signIn"),g=document.querySelector(".form-reg"),h=document.querySelector(".dictionary-levels button:last-child"),m=document.querySelector("#old-statistics"),p=document.getElementById("today-words"),f=document.getElementById("today-accuracy"),v=document.getElementById("today-audiocall-words"),y=document.getElementById("today-audiocall-accuracy"),w=document.getElementById("today-audiocall-in-a-row"),L=document.getElementById("today-sprint-words"),S=document.getElementById("today-sprint-accuracy"),_=document.getElementById("today-sprint-in-a-row");function A(){t.classList.remove("hidden")}function I(){e.classList.remove("signIn-logo"),h.classList.add("hidden"),s.store.isAuthorized=!1,(0,r.renderDictionary)(),m.classList.add("hidden"),m.innerHTML="",p.innerHTML="0",f.innerHTML="0",v.innerHTML="0",y.innerHTML="0",w.innerHTML="0",L.innerHTML="0",S.innerHTML="0",_.innerHTML="0",localStorage.removeItem("userId"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),e.removeEventListener("click",I),e.addEventListener("click",A)}function k(){t.classList.add("hidden"),u.reset()}function E(){n.classList.add("hidden"),u.reset(),g.reset()}function q(){e.removeEventListener("click",A),e.addEventListener("click",I),e.classList.add("signIn-logo"),h.classList.remove("hidden"),s.store.isAuthorized=!0}e.addEventListener("click",A),c.addEventListener("click",(()=>{t.classList.add("hidden"),n.classList.remove("hidden")})),d.addEventListener("click",k),l.addEventListener("click",E),window.addEventListener("load",(()=>{localStorage.getItem("token")&&q()}));const W=document.getElementById("reg-name"),M=document.getElementById("reg-email"),b=document.getElementById("reg-password");g.addEventListener("submit",(function(e){return i(this,void 0,void 0,(function*(){e.preventDefault();try{const e=b.value,t=yield(0,o.createUser)({name:W.value,email:M.value,password:e}),n=yield(0,o.signIn)({email:t.email,password:e});q(),(0,r.renderDictionary)(),localStorage.setItem("userId",n.userId),localStorage.setItem("token",n.token),localStorage.setItem("refreshToken",n.refreshToken),E(),(0,o.putUserStatistics)(localStorage.getItem("userId")||"",s.store.statisticsNew,localStorage.getItem("token")||""),localStorage.removeItem("allStatistics"),(0,a.clearAllStatistics)()}catch(e){console.log(e)}}))}));const $=document.getElementById("signIn-email"),T=document.getElementById("signIn-password");u.addEventListener("submit",(function(e){return i(this,void 0,void 0,(function*(){e.preventDefault();try{const e=yield(0,o.signIn)({email:$.value,password:T.value});q(),(0,r.renderDictionary)(),localStorage.setItem("userId",e.userId),localStorage.setItem("token",e.token),localStorage.setItem("refreshToken",e.refreshToken),k()}catch(e){console.log(e)}}))}))}},210:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=document.querySelector(".burger"),i=document.querySelector(".header__nav"),o=document.querySelector("body"),s=document.querySelectorAll(".header__nav_list-item"),r=document.querySelectorAll(".game-nav li"),a=document.querySelector(".header__logo_img");t.default=function(){function e(){i.classList.contains("active")&&(i.classList.remove("active"),o.classList.remove("lock"),n.classList.remove("active"))}n.addEventListener("click",(()=>{n.classList.toggle("active"),o.classList.toggle("lock"),i.classList.toggle("active")})),s.forEach((e=>e.addEventListener("click",(()=>{i.classList.contains("active")&&!e.classList.contains("game-nav")&&(i.classList.remove("active"),o.classList.remove("lock"),n.classList.remove("active"))})))),r.forEach((t=>t.addEventListener("click",e))),a.addEventListener("click",e)}},255:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(419),s=n(323);t.default=function(){const e=document.querySelector(".dictionary-levels button:last-child"),t=document.querySelector(".dictionary__row"),n=document.querySelector(".dictionary-controls"),r=document.getElementById("current-page"),a=document.querySelectorAll(".game");e.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){s.store.isComplicatedWordPage=!0,t.style.backgroundColor="transparent",n.classList.add("hidden"),r.style.color="#ffffff",a.forEach((e=>e.classList.remove("hidden"))),yield(0,o.renderDictionary)(!0)}))))}},928:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isEasyWordInGameFn=void 0;const o=n(452),s=n(939);t.isEasyWordInGameFn=function(e){var t;return i(this,void 0,void 0,(function*(){const n=yield(0,o.getAggregatedWordById)(localStorage.getItem("userId")||"",e,localStorage.getItem("token")||"");"easy"===(null===(t=n[0].userWord)||void 0===t?void 0:t.difficulty)&&(0,o.updateUserWord)(localStorage.getItem("userId")||"",e,{difficulty:s.WordDifficulty.empty,optional:n[0].userWord.optional},localStorage.getItem("token")||"")}))}},86:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(323),s=n(452),r=n(939);t.default=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".dictionary__row"),t=document.querySelector(".dictionary-levels button:last-child"),n=document.getElementById("current-page"),i=document.querySelectorAll(".game"),a=`wordsPerPage=20&filter=%7B%22%24and%22%3A%5B%7B%22%24or%22%3A%5B%7B%22userWord.difficulty%22%3A%22hard%22%7D%2C%7B%22userWord.difficulty%22%3A%22easy%22%7D%5D%7D%2C%20%7B%22page%22%3A${o.store.currentPage}%7D%5D%7D`,d=`${r.ELinks.users}/${localStorage.getItem("userId")}/aggregatedWords?group=${o.store.currentLevel}&${a}`;(yield(0,s.getAggregatedWords)(localStorage.getItem("token")||"",d))[0].paginatedResults.length>19&&!t.classList.contains("hidden")?(e.style.backgroundColor="rgba(0, 255, 0, .4)",n.style.color="darkgreen",i.forEach((e=>e.classList.add("hidden")))):(e.style.backgroundColor="transparent",n.style.color="#ffffff",i.forEach((e=>e.classList.remove("hidden"))))}))}},979:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(323),o=n(939),s=n(419);t.default=function(){const e=document.querySelector(".promo-btn"),t=document.querySelector(".promo"),n=document.querySelector(".dictionary"),r=document.querySelector(".main-page"),a=document.querySelector(".header__logo_link"),d=document.querySelectorAll(".header__nav_list-item"),l=document.querySelector(".dictionary-footer"),c=document.querySelector(".footer"),u=document.querySelector(".statistics"),g=document.querySelector(".developers"),h=document.querySelectorAll(".game"),m=document.querySelector(".statistics-info"),p=document.querySelector(".audiocall"),f=document.querySelector(".sprint");function v(e){if(""===e)d.forEach((e=>null==e?void 0:e.classList.remove("current-page")));else{d.forEach((e=>null==e?void 0:e.classList.remove("current-page")));const t=document.querySelector(`.header__nav_list-item[data-link=${e}]`);null==t||t.classList.add("current-page")}}function y(){null==t||t.classList.add("hidden"),null==u||u.classList.add("hidden"),null==g||g.classList.add("hidden"),null==r||r.classList.add("dictionary-page"),null==a||a.classList.add("dictionary-page"),null==p||p.classList.add("hidden"),null==f||f.classList.add("hidden"),null==n||n.classList.add("hidden"),null==l||l.classList.add("footer-hidden"),null==c||c.classList.add("hidden")}const w=()=>{y(),v(o.MenuLinks.dictionary),document.querySelectorAll(".words-level").forEach((e=>e.classList.remove("active"))),document.querySelector(".words-level:first-child").classList.add("active"),i.store.currentLevel="0",i.store.currentPage="0",null==n||n.classList.remove("hidden"),null==c||c.classList.remove("hidden"),null==l||l.classList.remove("footer-hidden"),(0,s.renderDictionary)()},L=()=>{const e=document.querySelector(".audiocall-welcome"),t=document.querySelector(".audiocall-question");y(),v(o.MenuLinks.games),null==p||p.classList.remove("hidden"),null==t||t.classList.add("hidden"),null==e||e.classList.remove("hidden")},S=()=>{y(),v(o.MenuLinks.games),null==f||f.classList.remove("hidden")},_=e=>{const t=e.target.dataset.link;t===o.MenuLinks.dictionary&&w(),t===o.MenuLinks.audiocall&&L(),t===o.MenuLinks.statistics&&(y(),v(o.MenuLinks.statistics),null==c||c.classList.remove("hidden"),null==u||u.classList.remove("hidden"),null==m||m.classList.remove("hidden")),t===o.MenuLinks.sprint&&S(),t===o.MenuLinks.developers&&(y(),v(o.MenuLinks.developers),null==c||c.classList.remove("hidden"),null==g||g.classList.remove("hidden"))},A=e=>{const t=e.target.dataset.game;t===o.GameNames.audiocall&&L(),t===o.GameNames.sprint&&S()};e.addEventListener("click",w),null==a||a.addEventListener("click",(()=>{y(),v(""),null==r||r.classList.remove("dictionary-page"),null==a||a.classList.remove("dictionary-page"),null==t||t.classList.remove("hidden"),null==c||c.classList.remove("hidden")})),d.forEach((e=>e.addEventListener("click",_))),h.forEach((e=>e.addEventListener("click",A)))}},419:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderDictionary=void 0;const s=n(323),r=o(n(898)),a=o(n(86)),d=document.querySelectorAll(".game");t.renderDictionary=(e=!1)=>i(void 0,void 0,void 0,(function*(){s.store.isComplicatedWordPage=e;const t=document.querySelector(".dictionary__row"),n=document.getElementById("current-page");t.style.backgroundColor="transparent",n.style.color="#ffffff",d.forEach((e=>e.classList.remove("hidden")));const i=new r.default(t,e,s.store.currentLevel,s.store.currentPage);yield i.getData(),i.render();const o=document.querySelector(".dictionary-footer"),l=document.querySelector(".dictionary-levels button:last-child");document.querySelector(".promo").classList.contains("hidden")&&!l.classList.contains("hidden")&&o.classList.remove("hidden"),e&&o.classList.add("hidden"),e||l.classList.contains("hidden")||(yield(0,a.default)())}))},452:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAggregatedWords=t.getAggregatedWordById=t.getUserSettings=t.putUserSettings=t.getUserStatistics=t.putUserStatistics=t.deleteUserWord=t.updateUserWord=t.getUserWordById=t.getUserWords=t.createUserWord=t.getUserById=t.getTokens=t.deleteUser=t.updateUser=t.signIn=t.createUser=t.getWordById=t.getWords=void 0;const o=n(939),s=n(323);function r(e,t){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.users}/${e}/tokens`,{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}})).json()}))}function a(e,t,n){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.users}/${e}/statistics`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)})).json()}))}t.getWords=function(e="0",t="0"){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.words}?group=${e}&page=${t}`,{headers:{Accept:"application/json"}})).json()}))},t.getWordById=function(e){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.words}/${e}`)).json()}))},t.createUser=function(e){return i(this,void 0,void 0,(function*(){const t=yield fetch(o.ELinks.users,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return 417===t.status&&alert("user with this e-mail exists"),t.json()}))},t.signIn=function(e){return i(this,void 0,void 0,(function*(){const t=yield fetch(o.ELinks.signIn,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return 403===t.status?alert("Incorrect e-mail or password"):404===t.status&&alert(`Couldn't find a(an) user with: ${e.email}`),t.json()}))},t.updateUser=function(e,t,n){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.users}/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)})).json()}))},t.deleteUser=function(e,t){return i(this,void 0,void 0,(function*(){yield fetch(`${o.ELinks.users}/${e}`,{method:"DELETE",headers:{Accept:"*/*",Authorization:`Bearer ${t}`}})}))},t.getTokens=r,t.getUserById=function(e,t){return i(this,void 0,void 0,(function*(){const n=yield fetch(`${o.ELinks.users}/${e}`,{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}});if(401===n.status&&localStorage.getItem("token")){const e=yield r(localStorage.getItem("userId")||"",localStorage.getItem("refreshToken")||"");localStorage.setItem("token",e.token),localStorage.setItem("refreshToken",e.refreshToken)}return n.json()}))},t.createUserWord=function(e,t,n,s){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.users}/${e}/words/${t}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(n)})).json()}))},t.getUserWords=function(e,t){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.users}/${e}/words`,{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}})).json()}))},t.getUserWordById=function(e,t,n){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.users}/${e}/words/${t}`,{headers:{Accept:"application/json",Authorization:`Bearer ${n}`}})).json()}))},t.updateUserWord=function(e,t,n,s){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.users}/${e}/words/${t}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(n)})).json()}))},t.deleteUserWord=function(e,t,n){return i(this,void 0,void 0,(function*(){yield fetch(`${o.ELinks.users}/${e}/words/${t}`,{method:"DELETE",headers:{Accept:"*/*",Authorization:`Bearer ${n}`}})}))},t.putUserStatistics=a,t.getUserStatistics=function(e,t){return i(this,void 0,void 0,(function*(){const n=yield fetch(`${o.ELinks.users}/${e}/statistics`,{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}});return 404===n.status&&localStorage.getItem("token")&&a(localStorage.getItem("userId")||"",s.store.statisticsNew,localStorage.getItem("token")||""),n.json()}))},t.putUserSettings=function(e,t,n){return i(this,void 0,void 0,(function*(){const i=yield fetch(`${o.ELinks.users}/${e}/settings`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)});return 404===i.status&&localStorage.getItem("token")&&a(localStorage.getItem("userId")||"",s.store.statisticsNew,localStorage.getItem("token")||""),i.json()}))},t.getUserSettings=function(e,t){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.users}/${e}/settings`,{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}})).json()}))},t.getAggregatedWordById=function(e,t,n){return i(this,void 0,void 0,(function*(){return(yield fetch(`${o.ELinks.users}/${e}/aggregatedWords/${t}`,{headers:{Accept:"application/json",Authorization:`Bearer ${n}`}})).json()}))},t.getAggregatedWords=function(e,t){return i(this,void 0,void 0,(function*(){return(yield fetch(t,{headers:{Accept:"application/json",Authorization:`Bearer ${e}`}})).json()}))}},558:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getWordsForGame=t.generateQuestion=t.closeResults=void 0;const o=n(452),s=n(939),r=n(323),a=n(8),d=n(129),l=n(928),c=document.querySelector(".sprint"),u=document.querySelector(".sprint-word"),g=document.querySelector(".sprint-word-translation"),h=document.querySelector(".sprint-word-wrong"),m=document.querySelector(".sprint-word-right"),p=document.querySelector(".sprint-word-result"),f=document.querySelector(".sprint-timer"),v=document.querySelector(".sprint-start"),y=document.querySelector(".sprint-game"),w=document.querySelector(".sprint-result"),L=document.getElementById("count-sprint-result-mistakes"),S=document.getElementById("count-sprint-result-correct"),_=document.getElementById("sprint-result-mistakes"),A=document.getElementById("sprint-result-correct"),I=document.getElementById("close-sprint"),k=document.getElementById("new-sprint"),E=document.querySelector(".dictionary"),q=document.querySelector(".footer"),W=document.querySelector(".dictionary-footer"),M=document.querySelector(".sprint-result-verdict"),b=document.querySelector(".sprint-game-info__level"),$=document.querySelector(".sprint-game-info__page"),T=document.querySelector(".sprint-game-info__count-words"),B=document.querySelector(".sprint-game-info__current-number");let C,P,H,x,D,j,U,O,z="";function G(){v.classList.remove("hidden"),y.classList.add("hidden"),w.classList.add("hidden")}function F(e,t){const n=document.createElement("div");n.classList.add("result-word"),n.innerHTML=`\n<div></div>\n<div>${t.word}</div>\n<div>-</div>\n<div>${t.wordTranslate}</div>\n  `,e===_?_.append(n):A.append(n),n.addEventListener("click",(()=>{new Audio(`${s.ELinks.link}/${t.audio}`).play()}))}function R(){new Audio("./assets/sounds/roundEnd.mp3").play(),y.classList.add("hidden"),w.classList.remove("hidden"),L.innerHTML=x.length.toString(),S.innerHTML=D.length.toString(),x.forEach((e=>F(_,e))),D.forEach((e=>F(A,e))),M.innerHTML=function(){const e=D.length+x.length,t=D.length,n=Math.round(t/e*100);return n===s.ResultGrade.excellent?"Превосходный результат, поздравляем!":n<s.ResultGrade.excellent&&n>s.ResultGrade.good?"Хороший результат, поздравляем!":n<s.ResultGrade.good&&n>s.ResultGrade.bad?"Неплохо, однако возможно лучше :)!":"Не отчаивайтесь, все обязательно получится!"}(),(0,d.updateBestSeriesFn)("sprint",U)}function N(){u.innerHTML=H[P].word,C=H[P];const e=H.slice();e.splice(P,1);const t=e[Math.floor(Math.random()*e.length)].wordTranslate;z=H[P].wordTranslate;const n=[z,t];g.innerHTML=n[Math.round(Math.random())]}function V(){P<H.length-1?(P++,B.innerHTML=""+(+P+1),N()):R(),h.disabled=!1,m.disabled=!1}function J(e){h.disabled=!0,m.disabled=!0,p.classList.remove("visibility"),g.innerHTML===z&&"right"===e||g.innerHTML!==z&&"wrong"===e?(new Audio("./assets/sounds/correct.mp3").play(),p.classList.add("right-answer"),D.push(C),setTimeout((()=>{p.classList.add("visibility"),p.classList.remove("right-answer"),V()}),1e3),r.store.isAuthorized&&((0,a.updateGameStats)("sprint",!0,C.id||C._id),(0,d.updateUserStatisticsFn)("sprint",!0),O++)):(new Audio("./assets/sounds/wrong1.wav").play(),p.classList.add("wrong-answer"),x.push(C),setTimeout((()=>{p.classList.add("visibility"),p.classList.remove("wrong-answer"),V()}),1e3),r.store.isAuthorized&&((0,a.updateGameStats)("sprint",!1,C.id||C._id),(0,d.updateUserStatisticsFn)("sprint",!1),(0,l.isEasyWordInGameFn)(C.id||C._id),O>U&&(U=O),O=0))}function Q(e){switch(e){case"0":return"A1.";case"1":return"A2.";case"2":return"B1.";case"3":return"B2.";case"4":return"C1.";case"5":return"C2.";default:return""}}t.closeResults=G,I.addEventListener("click",(()=>{c.classList.add("hidden"),E.classList.remove("hidden"),q.classList.remove("hidden"),W.classList.remove("footer-hidden"),G()})),k.addEventListener("click",(()=>{G()})),t.generateQuestion=N,h.addEventListener("click",(()=>{J("wrong")})),m.addEventListener("click",(()=>{J("right")})),document.addEventListener("keyup",(function(e){!1!==h.disabled||y.classList.contains("hidden")||("ArrowRight"===e.code?J("right"):"ArrowLeft"===e.code&&J("wrong"))})),t.getWordsForGame=function(e,t){return i(this,void 0,void 0,(function*(){P=0,clearInterval(j),u.innerHTML="",g.innerHTML="",A.innerHTML="",_.innerHTML="",f.innerHTML="",M.innerHTML="",b.innerHTML="",$.innerHTML="",T.innerHTML="",B.innerHTML="1",U=0,O=0;const n=String(Math.floor(30*Math.random()));let i;if(r.store.isAuthorized)if(t)if(r.store.isComplicatedWordPage){const e="aggregatedWords?wordsPerPage=3600&filter=%7B%22userWord.difficulty%22%3A%22hard%22%7D";i=`${s.ELinks.users}/${localStorage.getItem("userId")}/${e}`,b.innerHTML="Cложные слова.",$.innerHTML="Cложные слова.",H=(yield(0,o.getAggregatedWords)(localStorage.getItem("token")||"",i))[0].paginatedResults,T.innerHTML=H.length.toString()+"."}else{const e=`wordsPerPage=20&filter=%7B%22%24and%22%3A%5B%7B%22%24or%22%3A%5B%7B%22userWord.difficulty%22%3A%22empty%22%7D%2C%20%7B%22userWord.difficulty%22%3A%22hard%22%7D%2C%20%7B%22userWord%22%3Anull%7D%5D%7D%2C%20%7B%22page%22%3A${r.store.currentPage}%7D%5D%7D`;i=`${s.ELinks.users}/${localStorage.getItem("userId")}/aggregatedWords?group=${r.store.currentLevel}&${e}`,b.innerHTML=Q(r.store.currentLevel),$.innerHTML=+r.store.currentPage+1+".",H=(yield(0,o.getAggregatedWords)(localStorage.getItem("token")||"",i))[0].paginatedResults,T.innerHTML=H.length.toString()+"."}else H=yield(0,o.getWords)(e,n),b.innerHTML=Q(e),$.innerHTML=+n+1+".",T.innerHTML=H.length.toString()+".";else t?(b.innerHTML=Q(r.store.currentLevel),$.innerHTML=+r.store.currentPage+1+".",H=yield(0,o.getWords)(r.store.currentLevel,r.store.currentPage),T.innerHTML=H.length.toString()+"."):(b.innerHTML=Q(e),$.innerHTML=+n+1+".",H=yield(0,o.getWords)(e,n),T.innerHTML=H.length.toString()+".");D=[],x=[],H.length>1?(N(),function(){let e=60;f.innerHTML=e.toString(),j=setInterval((()=>{w.classList.contains("hidden")||clearInterval(j),e>0?(e--,f.innerHTML=e.toString()):(clearInterval(j),w.classList.contains("hidden")&&R()),c.classList.contains("hidden")&&clearInterval(j)}),1e3)}()):(alert("Недостаточно слов для игры"),G())}))}},634:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(712);t.default=function(){(0,i.sprintStart)()}},712:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sprintStart=void 0;const i=n(558),o=n(323);t.sprintStart=function(){const e=document.querySelectorAll(".sprint-level"),t=document.querySelector(".sprint-start"),n=document.querySelector(".sprint-game"),s=document.querySelector(".sprint-result"),r=document.querySelector(".sprint-start-btn"),a=document.querySelector(".game-menu_sprint"),d=document.querySelector(".game-sprint");a.addEventListener("click",(()=>{(0,i.closeResults)()})),d.addEventListener("click",(()=>{n.classList.remove("hidden"),t.classList.add("hidden"),s.classList.add("hidden"),(0,i.getWordsForGame)(o.store.currentLevel,!0)}));let l=String(Array.from(e).findIndex((e=>e.classList.contains("active"))));e.forEach((t=>{t.addEventListener("click",(()=>{e.forEach((e=>e.classList.remove("active"))),t.classList.add("active"),l=String(Array.from(e).findIndex((e=>e.classList.contains("active"))))}))})),r.addEventListener("click",(()=>{t.classList.add("hidden"),n.classList.remove("hidden"),(0,i.getWordsForGame)(l,!1)}))}},129:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateBestSeriesFn=t.updateUserStatisticsFn=t.navigateStatistics=t.getUserStatisticsFn=t.clearAllStatistics=void 0;const o=n(323),s=n(452),r=document.getElementById("statistics-btn"),a=document.getElementById("today-words"),d=document.getElementById("today-accuracy"),l=document.getElementById("today-audiocall-words"),c=document.getElementById("today-audiocall-accuracy"),u=document.getElementById("today-audiocall-in-a-row"),g=document.getElementById("today-sprint-words"),h=document.getElementById("today-sprint-accuracy"),m=document.getElementById("today-sprint-in-a-row"),p=document.querySelector("#old-statistics");let f;function v(){const e=new Date,t=e.toString().indexOf("202")+4;return e.toString().slice(0,t)}function y(e){return v()===e}window.addEventListener("beforeunload",(()=>{f.length>0&&localStorage.setItem("allStatistics",JSON.stringify(f))})),f="string"==typeof localStorage.getItem("allStatistics")?JSON.parse(localStorage.getItem("allStatistics")||""):[],t.clearAllStatistics=function(){f=[]};const w=document.getElementById("old-statistics");function L(e){return`\n  <div class="statistics-info">\n    <div class="statistics-info__left">\n    <h2 class="statistics-title">${function(e){const t=new Date(e),n=t.getDate(),i=t.getMonth(),o=t.getFullYear();return`${s=n,s>=10?s:"0"+s} ${["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"][i]} ${o}`;var s}(e.optional.date)}</h2>\n      <div class="statistics-info__left-words">\n        <span id="today-words">${e.optional.games.audiocall.newWords+e.optional.games.sprint.newWords}</span>\n        <div>\n          <p>слов</p>\n          <p>было в играх</p>\n        </div>\n      </div>\n      <div class="statistics-info__left-accuracy">\n        <p>Правильных ответов</p>\n        <div id="today-accuracy">${e.optional.games.audiocall.newWords+e.optional.games.sprint.newWords<1?"0":Math.round((e.optional.games.audiocall.right+e.optional.games.sprint.right)/(e.optional.games.audiocall.newWords+e.optional.games.sprint.newWords)*100)}%</div>\n      </div>\n    </div>\n    <div class="statistics-info__right">\n      <div class="statistics-info__right-audiocall">\n        <div>\n          <div class="game-img"></div>\n          <h3>Аудиовызов</h3>\n        </div>\n        <div class="today-game-stats">\n          <div class="today-game-stats__row">\n            <p id="today-audiocall-words">${e.optional.games.audiocall.newWords}</p>\n            <p>слов</p>\n          </div>\n          <div class="today-game-stats__row">\n            <p id="today-audiocall-accuracy">${e.optional.games.audiocall.newWords<1?"0":Math.round(e.optional.games.audiocall.right/e.optional.games.audiocall.newWords*100)}%</p>\n            <p>правильных ответов</p>\n          </div>\n          <div class="today-game-stats__row">\n            <p id="today-audiocall-in-a-row">${e.optional.games.audiocall.bestSeries}</p>\n            <p>лучшая серия</p>\n          </div>\n        </div>\n      </div>\n      <div class="statistics-info__right-sprint">\n        <div>\n          <div class="game-img"></div>\n          <h3>Спринт</h3>\n        </div>\n        <div class="today-game-stats">\n          <div class="today-game-stats__row">\n            <p id="today-sprint-words">${e.optional.games.sprint.newWords}</p>\n            <p>слов</p>\n          </div>\n          <div class="today-game-stats__row">\n            <p id="today-sprint-accuracy">${e.optional.games.sprint.newWords<1?"0":Math.round(e.optional.games.sprint.right/e.optional.games.sprint.newWords*100)}%</p>\n            <p>правильных ответов</p>\n          </div>\n          <div class="today-game-stats__row">\n            <p id="today-sprint-in-a-row">${e.optional.games.sprint.bestSeries}</p>\n            <p>лучшая серия</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  `}function S(){var e;return i(this,void 0,void 0,(function*(){if(o.store.isAuthorized){const t=yield(0,s.getUserStatistics)(localStorage.getItem("userId")||"",localStorage.getItem("token")||"");if(y((null===(e=t.optional)||void 0===e?void 0:e.date)||""))t.optional&&(l.innerHTML=`${t.optional.games.audiocall.newWords}`,t.optional.games.audiocall.newWords<1?c.innerHTML="0":c.innerHTML=`${Math.round(t.optional.games.audiocall.right/t.optional.games.audiocall.newWords*100)}%`,u.innerHTML=`${t.optional.games.audiocall.bestSeries}`,g.innerHTML=`${t.optional.games.sprint.newWords}`,t.optional.games.sprint.newWords<1?h.innerHTML="0":h.innerHTML=`${Math.round(t.optional.games.sprint.right/t.optional.games.sprint.newWords*100)}%`,m.innerHTML=`${t.optional.games.sprint.bestSeries}`,a.innerHTML=`${t.optional.games.audiocall.newWords+t.optional.games.sprint.newWords}`,t.optional.games.audiocall.newWords+t.optional.games.sprint.newWords<1?d.innerHTML="0":d.innerHTML=`${Math.round((t.optional.games.audiocall.right+t.optional.games.sprint.right)/+a.innerHTML*100)}%`);else{t.optional.date.length>3&&f.push(t);const e=JSON.parse(JSON.stringify(o.store.statisticsNew)),n=v();e.optional.date=n,yield(0,s.putUserStatistics)(localStorage.getItem("userId")||"",e,localStorage.getItem("token")||""),S()}f.length>0&&(null==p||p.classList.remove("hidden"),function(){w.innerHTML="";for(const e of f)w.innerHTML=L(e)+w.innerHTML}())}}))}t.getUserStatisticsFn=S,t.navigateStatistics=function(){return i(this,void 0,void 0,(function*(){r.addEventListener("click",(()=>{S()}))}))},t.updateUserStatisticsFn=function(e,t){var n;return i(this,void 0,void 0,(function*(){if(o.store.isAuthorized){const i=yield(0,s.getUserStatistics)(localStorage.getItem("userId")||"",localStorage.getItem("token")||"");if(y((null===(n=i.optional)||void 0===n?void 0:n.date)||"")){if(i.learnedWords++,i.optional){"sprint"===e&&!0===t?(i.optional.games.sprint.right++,i.optional.games.sprint.newWords++):"sprint"===e&&!1===t?i.optional.games.sprint.newWords++:"audiocall"===e&&!0===t?(i.optional.games.audiocall.right++,i.optional.games.audiocall.newWords++):"audiocall"===e&&!1===t&&i.optional.games.audiocall.newWords++;const n={learnedWords:i.learnedWords,optional:i.optional};(0,s.putUserStatistics)(localStorage.getItem("userId")||"",n,localStorage.getItem("token")||"")}}else{i.optional.date.length>3&&f.push(i);const n=JSON.parse(JSON.stringify(o.store.statisticsNew)),r=v();n.learnedWords=i.learnedWords+1,n.optional.date=r,"sprint"===e&&!0===t?(n.optional.games.sprint.right++,n.optional.games.sprint.newWords++):"sprint"===e&&!1===t?n.optional.games.sprint.newWords++:"audiocall"===e&&!0===t?(n.optional.games.audiocall.right++,n.optional.games.audiocall.newWords++):"audiocall"===e&&!1===t&&n.optional.games.audiocall.newWords++,(0,s.putUserStatistics)(localStorage.getItem("userId")||"",n,localStorage.getItem("token")||"")}}}))},t.updateBestSeriesFn=function(e,t){return i(this,void 0,void 0,(function*(){if(o.store.isAuthorized){const n=yield(0,s.getUserStatistics)(localStorage.getItem("userId")||"",localStorage.getItem("token")||"");if(n.optional){"sprint"===e?t>n.optional.games.sprint.bestSeries&&(n.optional.games.sprint.bestSeries=t):"audiocall"===e&&t>n.optional.games.audiocall.bestSeries&&(n.optional.games.audiocall.bestSeries=t);const i={learnedWords:n.learnedWords,optional:n.optional};(0,s.putUserStatistics)(localStorage.getItem("userId")||"",i,localStorage.getItem("token")||"")}}}))}},8:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateGameStats=t.getWordStatisticsInGame=t.navigateWordStatistics=void 0;const o=n(452),s=n(323),r=document.getElementById("audiocall-right"),a=document.getElementById("audiocall-wrong"),d=document.getElementById("sprint-right"),l=document.getElementById("sprint-wrong");function c(e){return i(this,void 0,void 0,(function*(){const t=(yield(0,o.getAggregatedWordById)(localStorage.getItem("userId")||"",e,localStorage.getItem("token")||""))[0].userWord;if(t)return t}))}t.navigateWordStatistics=function(){const e=document.querySelector(".word-statistics-in-games");document.querySelector(".word-statistics-container span").addEventListener("click",(()=>{e.classList.add("hidden"),r.innerHTML="0",a.innerHTML="0",d.innerHTML="0",l.innerHTML="0"}))},t.getWordStatisticsInGame=c,t.updateGameStats=function(e,t,n){return i(this,void 0,void 0,(function*(){const i=yield c(n);if(i){const s=i.difficulty;"sprint"===e&&!0===t?i.optional.games.sprint.right++:"sprint"===e&&!1===t?i.optional.games.sprint.wrong++:"audiocall"===e&&!0===t?i.optional.games.audiocall.right++:"audiocall"===e&&!1===t&&i.optional.games.audiocall.wrong++,yield(0,o.updateUserWord)(localStorage.getItem("userId")||"",n,{difficulty:s,optional:i.optional},localStorage.getItem("token")||"")}else{const i=JSON.parse(JSON.stringify(s.store.optional));"sprint"===e&&!0===t?i.games.sprint.right++:"sprint"===e&&!1===t?i.games.sprint.wrong++:"audiocall"===e&&!0===t?i.games.audiocall.right++:"audiocall"===e&&!1===t&&i.games.audiocall.wrong++,yield(0,o.createUserWord)(localStorage.getItem("userId")||"",n,{difficulty:"empty",optional:i},localStorage.getItem("token")||"")}}))}},323:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0,t.store={currentPage:"0",currentLevel:"0",isAuthorized:!1,audiocallCurrentLevel:"0",isComplicatedWordPage:!1,optional:{games:{sprint:{right:0,wrong:0},audiocall:{right:0,wrong:0}}},statisticsNew:{learnedWords:0,optional:{date:" ",games:{audiocall:{bestSeries:0,right:0,newWords:0},sprint:{bestSeries:0,right:0,newWords:0}}}}}},939:(e,t)=>{var n,i,o,s,r,a;Object.defineProperty(t,"__esModule",{value:!0}),t.CallAudiogameFrom=t.ResultGrade=t.MenuLinks=t.GameNames=t.WordDifficulty=t.ELinks=void 0,(a=t.ELinks||(t.ELinks={})).link="https://bukman-rs-lang.herokuapp.com",a.words="https://bukman-rs-lang.herokuapp.com/words",a.users="https://bukman-rs-lang.herokuapp.com/users",a.signIn="https://bukman-rs-lang.herokuapp.com/signin",(r=t.WordDifficulty||(t.WordDifficulty={})).hard="hard",r.easy="easy",r.statistics="statistics",r.empty="empty",(s=t.GameNames||(t.GameNames={})).sprint="sprint",s.audiocall="audiocall",(o=t.MenuLinks||(t.MenuLinks={})).dictionary="dictionary",o.sprint="sprint",o.audiocall="audiocall",o.statistics="statistics",o.developers="developers",o.games="games",(i=t.ResultGrade||(t.ResultGrade={}))[i.excellent=100]="excellent",i[i.good=70]="good",i[i.bad=30]="bad",(n=t.CallAudiogameFrom||(t.CallAudiogameFrom={})).menu="menu",n.dictionary="dictionary"}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(303)})();